import {
  c,
  i,
  l,
  p,
  r as r2,
  u
} from "./chunk-DVZSVGIW.js";
import {
  m,
  y2
} from "./chunk-M6YQSYSW.js";
import {
  I
} from "./chunk-4FQK362J.js";
import "./chunk-U4VVTGEX.js";
import {
  r
} from "./chunk-5XMOCUPU.js";
import "./chunk-BSRIVWBN.js";
import "./chunk-ACXFIEER.js";
import "./chunk-BTTTF5H4.js";
import "./chunk-MEC6IDRX.js";
import "./chunk-ZH6PYRVF.js";
import "./chunk-TOMXDOXB.js";
import "./chunk-VTPZW6H5.js";
import "./chunk-JST5QDP2.js";
import "./chunk-A4BGGF5Z.js";
import {
  S
} from "./chunk-IPFYNOOY.js";
import "./chunk-PUC7IJYJ.js";
import "./chunk-ESU5C3MV.js";
import "./chunk-TYJOGWKZ.js";
import {
  y
} from "./chunk-4WO6KUCB.js";
import {
  d
} from "./chunk-2Y4TRKRB.js";
import "./chunk-XEBZUAYT.js";
import "./chunk-6REABBOQ.js";
import "./chunk-STBNLAGT.js";
import "./chunk-HSI6V34N.js";
import "./chunk-ZDVQNOKR.js";
import "./chunk-Y3AY7I5U.js";
import "./chunk-WJNMFEXQ.js";
import "./chunk-G34KEQQG.js";
import "./chunk-AZ33ECVF.js";
import "./chunk-FENCNBXD.js";
import {
  h
} from "./chunk-3UHB6K6P.js";
import "./chunk-ZYOZHQFS.js";
import "./chunk-MLOZK7WX.js";
import "./chunk-FIBMMWXR.js";
import "./chunk-53ZTROGC.js";
import "./chunk-PUM22WTC.js";
import "./chunk-K2PILHWE.js";
import "./chunk-JLFV7EBO.js";
import "./chunk-BV7O6P7Z.js";
import "./chunk-JLFSX3JT.js";
import "./chunk-PAGKMWJH.js";
import "./chunk-CHL75CEP.js";
import "./chunk-HP7OWCUK.js";
import "./chunk-NENDDUWH.js";
import "./chunk-YUVX6H42.js";
import "./chunk-5ESATYIQ.js";
import "./chunk-RDUV6YP6.js";
import "./chunk-6P7HXSJ6.js";
import "./chunk-LTDNORB5.js";
import "./chunk-HQLPC24M.js";
import "./chunk-H7PA52WJ.js";
import "./chunk-PODRVOXS.js";
import "./chunk-NALU24NB.js";
import "./chunk-REAPFM7O.js";
import "./chunk-UNGOQUF2.js";
import "./chunk-YSPSOPLL.js";
import "./chunk-AJSC5XSW.js";
import "./chunk-I4HN3ELT.js";
import "./chunk-ACGZOBZ6.js";
import "./chunk-7LY6RE4Z.js";
import "./chunk-AIKBABBU.js";
import "./chunk-A42OBC4U.js";
import "./chunk-BDBI2KVA.js";
import "./chunk-7AOPU62X.js";
import "./chunk-WE4EKKVR.js";
import "./chunk-UFBX3XSC.js";
import "./chunk-F7TCEOHX.js";
import "./chunk-5BULKNR2.js";
import "./chunk-RYSF6YCR.js";
import "./chunk-4LTV6KQ5.js";
import "./chunk-PPIAYGRE.js";
import "./chunk-L7T5Z7MG.js";
import "./chunk-WCGYJMU3.js";
import "./chunk-577U4F6A.js";
import "./chunk-HS4XAAAN.js";
import "./chunk-STW6HRXO.js";
import "./chunk-7QTMSBS3.js";
import "./chunk-M6FNW7GP.js";
import "./chunk-5HI5HAKB.js";
import {
  a
} from "./chunk-CWMZW2S5.js";
import "./chunk-2N2W26AY.js";
import "./chunk-JVWSFFO4.js";

// node_modules/@arcgis/core/smartMapping/renderers/support/referenceSizeUtils.js
var a2;
function s2(e) {
  switch (e) {
    case "circle":
      return { rings: [[[8.5, 0.2], [7.06, 0.33], [5.66, 0.7], [4.35, 1.31], [3.16, 2.14], [2.14, 3.16], [1.31, 4.35], [0.7, 5.66], [0.33, 7.06], [0.2, 8.5], [0.33, 9.94], [0.7, 11.34], [1.31, 12.65], [2.14, 13.84], [3.16, 14.86], [4.35, 15.69], [5.66, 16.3], [7.06, 16.67], [8.5, 16.8], [9.94, 16.67], [11.34, 16.3], [12.65, 15.69], [13.84, 14.86], [14.86, 13.84], [15.69, 12.65], [16.3, 11.34], [16.67, 9.94], [16.8, 8.5], [16.67, 7.06], [16.3, 5.66], [15.69, 4.35], [14.86, 3.16], [13.84, 2.14], [12.65, 1.31], [11.34, 0.7], [9.94, 0.33], [8.5, 0.2]]] };
    case "square":
      return { rings: [[[0.5, 0.5], [0.5, 16.5], [16.5, 16.5], [16.5, 0.5], [0.5, 0.5]]] };
    case "diamond":
      return { rings: [[[8.5, 0.5], [0.2, 8.5], [8.5, 16.5], [16.5, 8.5], [8.5, 0.5]]] };
    case "hexagon-pointy":
      return { rings: [[[15.86, 12.75], [15.86, 4.25], [8.5, 0], [1.14, 4.25], [1.14, 12.75], [8.5, 17], [15.86, 12.75]]] };
    case "hexagon-flat":
      return { rings: [[[12.75, 15.86], [17, 8.5], [12.75, 1.14], [4.25, 1.14], [0, 8.5], [4.25, 15.86], [12.75, 15.86]]] };
  }
}
function y3(e) {
  var _a;
  return "CIMVectorMarker" === (e == null ? void 0 : e.type) ? (_a = e.markerGraphics) == null ? void 0 : _a[0] : void 0;
}
function p2(e) {
  var _a, _b;
  return "CIMPolygonSymbol" === ((_a = e == null ? void 0 : e.symbol) == null ? void 0 : _a.type) ? (_b = e.symbol.symbolLayers) == null ? void 0 : _b[0] : void 0;
}
function f(e, r3) {
  "CIMVectorMarker" === (e == null ? void 0 : e.type) && null != r3 && (e.size = r3);
}
function v(e, r3) {
  const n = y3(e);
  n && null != r3 && (n.geometry = s2(r3));
}
function S2(e, r3) {
  const n = p2(y3(e));
  n && null != r3 && (n.color = r3.toArray());
}
function z(e, r3, n) {
  const t = p2(y3(e));
  t && null != r3 && n && (t.colorLocked = r3);
}
function d3(e, n) {
  var _a;
  const { outerRingSize: t, innerDotSize: i2, type: o, color: l2, colorLocked: s3, primitiveOverrides: m2 } = n, c2 = "CIMPolygonSymbol" === ((_a = e.data.symbol) == null ? void 0 : _a.type) ? e.data.symbol.symbolLayers : null;
  if (2 === (c2 == null ? void 0 : c2.length)) for (const r3 of c2) {
    const e2 = r3.primitiveName === a2.OuterRing;
    f(r3, e2 ? t : i2), v(r3, o), S2(r3, l2), z(r3, s3, e2);
  }
  return null != t && null != i2 && (e.data.primitiveOverrides = null), void 0 !== m2 && (e.data.primitiveOverrides = a(m2)), e;
}
!function(e) {
  e.OuterRing = "reference-size-outer-ring", e.InnerDot = "reference-size-inner-dot";
}(a2 || (a2 = {}));

// node_modules/@arcgis/core/widgets/Legend/support/sizeRampUtils.js
var b = 30;
var h2 = 12;
var d4 = 24;
var w = [255, 255, 255];
var S3 = [200, 200, 200];
var g = [128, 128, 128];
var v2 = 20;
var z2 = 5;
function j(e) {
  return "esri.symbols.SimpleMarkerSymbol" === e.declaredClass;
}
function k(e) {
  return "esri.symbols.PictureMarkerSymbol" === e.declaredClass;
}
function V2(e) {
  return "esri.symbols.SimpleLineSymbol" === e.declaredClass;
}
function x(e) {
  return "esri.symbols.TextSymbol" === e.declaredClass;
}
function U(e, l2) {
  const t = e.length - 1;
  return e.map((e2, n) => r2(e2, n, t, l2));
}
async function I2(e, t, n, o, s3, i2, r3) {
  const a3 = t.legendOptions, p3 = a3 == null ? void 0 : a3.customValues, f2 = r3 || await D(e, n), y4 = t.stops, b2 = !!f2, h3 = !!p3, w2 = null != t.minSize && null != t.maxSize, S4 = y4 && y4.length > 1, g2 = !!t.target;
  if (!b2 || !h3 && !(w2 || S4 && !g2)) return;
  const v3 = y2(f2);
  let z3 = false, j2 = null, k2 = null;
  j2 = v3 && !S4 ? u([t.minDataValue, t.maxDataValue]) : p3 ?? await T(t, f2, o, s3 == null ? void 0 : s3.type);
  const V3 = e == null ? void 0 : e.authoringInfo, x2 = "univariate-color-size" === (V3 == null ? void 0 : V3.type), I3 = x2 && "above-and-below" === (V3 == null ? void 0 : V3.univariateTheme), q2 = !!c(e);
  if (!j2 && S4 && (j2 = y4.map((e2) => e2.value), z3 = y4.some((e2) => !!e2.label), "flow" === e.type && (j2 = u(j2)), z3 && (k2 = y4.map((e2) => e2.label))), v3 && null != j2 && (j2 == null ? void 0 : j2.length) > 2 && !I3 && (j2 = [j2[0], j2[j2.length - 1]]), !j2) return null;
  x2 && 5 !== (j2 == null ? void 0 : j2.length) && (j2 = P({ minSize: j2[0], maxSize: j2[j2.length - 1] }));
  const B2 = v3 ? L(e, j2) : null, E2 = m(f2), R2 = z3 ? null : U(j2, i2);
  return (await Promise.all(j2.map(async (l2, i3) => {
    const r4 = v3 ? B2[i3] : await H(t, f2, l2, o, s3 == null ? void 0 : s3.type);
    return { value: l2, symbol: !q2 || "class-breaks" !== e.type && "unique-value" !== e.type ? O(I3 && "class-breaks" === e.type ? C(e, i3) : f2, r4) : M(e, r4, t.maxSize, n) ?? f2, label: z3 ? k2[i3] : R2[i3], size: q2 ? d4 : r4, outlineSize: E2 };
  }))).reverse();
}
function L(e, l2) {
  const t = e == null ? void 0 : e.authoringInfo, n = "univariate-color-size" === (t == null ? void 0 : t.type);
  let o = [h2, b];
  if (n) {
    const e2 = l2[0], t2 = l2[l2.length - 1], n2 = h2, s3 = b;
    o = l2.map((l3) => n2 + (l3 - e2) / (t2 - e2) * (s3 - n2));
  }
  return n && "below" === (t == null ? void 0 : t.univariateTheme) && o.reverse(), o;
}
function M(l2, t, n, s3) {
  var _a, _b, _c, _d, _e, _f;
  const i2 = "class-breaks" === l2.type, r3 = i2 ? (_c = (_b = (_a = l2.classBreakInfos) == null ? void 0 : _a[0]) == null ? void 0 : _b.symbol) == null ? void 0 : _c.clone() : (_f = (_e = (_d = l2.uniqueValueInfos) == null ? void 0 : _d[0]) == null ? void 0 : _e.symbol) == null ? void 0 : _f.clone();
  return r3 && "type" in r3 && "cim" === r3.type ? (d3(r3, { color: s3 ?? (i2 ? null : new h(S3)), innerDotSize: t * (d4 / n) || 1, outerRingSize: d4 }), r3) : null;
}
function C(e, l2) {
  var _a;
  const t = e.classBreakInfos, n = t.length, o = n < 2 || !(l2 >= 2) ? t[0].symbol.clone() : t[n - 1].symbol.clone(), s3 = (_a = e.visualVariables) == null ? void 0 : _a.some((e2) => "color" === e2.type);
  return s3 && (o.type.includes("3d") ? B(o) : E(o)), o;
}
async function D(e, l2) {
  var _a, _b;
  if ("flow" === e.type) return p(e, l2);
  if ("pie-chart" === e.type) return new y({ color: null, outline: ((_a = e.outline) == null ? void 0 : _a.width) ? e.outline : new d() });
  let t = null, n = null;
  if ("simple" === e.type) t = e.symbol;
  else if ("class-breaks" === e.type) {
    const l3 = e.classBreakInfos;
    t = l3 && l3[0] && l3[0].symbol, n = l3.length > 1;
  } else if ("unique-value" === e.type) {
    const l3 = e.uniqueValueInfos;
    t = (_b = l3 == null ? void 0 : l3[0]) == null ? void 0 : _b.symbol, n = null != l3 && l3.length > 1;
  }
  return !t || q(t) ? null : (t = t.clone(), (l2 || n) && (t.type.includes("3d") ? B(t) : E(t)), t);
}
function q(e) {
  var _a;
  return S(e) ? ((_a = e.symbolLayers) == null ? void 0 : _a.some((e2) => "fill" === (e2 == null ? void 0 : e2.type))) ?? false : (e == null ? void 0 : e.type.includes("fill")) ?? false;
}
function B(e) {
  "line-3d" === e.type ? e.symbolLayers.forEach((e2) => {
    e2.material = { color: g };
  }) : e.symbolLayers.forEach((e2) => {
    var _a;
    "icon" !== e2.type || ((_a = e2.resource) == null ? void 0 : _a.href) ? e2.material = { color: S3 } : (e2.material = { color: w }, e2.outline = { color: g, size: 1.5 });
  });
}
function E(l2) {
  var _a, _b;
  const t = r();
  if ("cim" === l2.type) I(l2, new h(S3));
  else if (l2.type.includes("line")) l2.color = g;
  else if (l2.color = t ? g : w, "simple-marker" === l2.type) if (l2.outline) {
    const e = (_b = (_a = l2.outline) == null ? void 0 : _a.color) == null ? void 0 : _b.toHex();
    "#ffffff" === e && (l2.outline.color = g);
  } else l2.outline = { color: g, width: 1.5 };
}
async function T(e, t, n, o) {
  const s3 = (await import("./visualVariableUtils-ZEYVTAMY.js")).getSizeRangeAtScale(e, n, o), i2 = s3 && P(s3);
  if (!s3 || !i2) return;
  let r3 = i2.map((l2) => R(l2, e, s3));
  r3 = u(r3);
  for (let l2 = 1; l2 < r3.length - 1; l2++) {
    const s4 = await A(e, t, r3[l2], r3[l2 - 1], n, o);
    s4 && (r3[l2] = s4[0], i2[l2] = s4[1]);
  }
  return r3;
}
function P(e) {
  const l2 = e.minSize, t = e.maxSize, n = z2, o = (t - l2) / (n - 1), s3 = [];
  for (let i2 = 0; i2 < n; i2++) s3.push(l2 + o * i2);
  return s3;
}
function R(e, l2, t) {
  const n = t.minSize, o = t.maxSize, s3 = l2.minDataValue, i2 = l2.maxDataValue;
  let r3;
  if (e <= n) r3 = s3;
  else if (e >= o) r3 = i2;
  else {
    r3 = (e - n) / (o - n) * (i2 - s3) + s3;
  }
  return r3;
}
async function A(e, o, s3, i2, r3, a3) {
  const u3 = await H(e, o, s3, r3, a3), c2 = await H(e, o, i2, r3, a3), m2 = i(s3), p3 = m2.fractional, f2 = v2;
  let y4 = m2.integer, b2 = null, h3 = null;
  s3 > 0 && s3 < 1 && (b2 = 10 ** p3, y4 = i(s3 *= b2).integer);
  for (let t = y4 - 1; t >= 0; t--) {
    const i3 = 10 ** t;
    let m3 = Math.floor(s3 / i3) * i3, p4 = Math.ceil(s3 / i3) * i3;
    null != b2 && (m3 /= b2, p4 /= b2);
    let y5 = (m3 + p4) / 2;
    [, y5] = u([m3, y5, p4], { indexes: [1] });
    const d5 = await H(e, o, m3, r3, a3), w2 = await H(e, o, p4, r3, a3), S4 = await H(e, o, y5, r3, a3), g2 = l(u3, d5, c2, null), v3 = l(u3, w2, c2, null), z3 = l(u3, S4, c2, null);
    let j2 = g2.previous <= f2, k2 = v3.previous <= f2;
    if (j2 && k2 && (g2.previous <= v3.previous ? (j2 = true, k2 = false) : (k2 = true, j2 = false)), j2 ? h3 = [m3, d5] : k2 ? h3 = [p4, w2] : z3.previous <= f2 && (h3 = [y5, S4]), h3) break;
  }
  return h3;
}
async function H(e, l2, t, n, o) {
  const { getSize: s3 } = await import("./visualVariableUtils-ZEYVTAMY.js");
  return s3(e, t, { scale: n, view: o, shape: "simple-marker" === l2.type ? l2.style : null });
}
function O(e, l2) {
  const t = e.clone();
  if (S(t)) y2(t) || t.symbolLayers.forEach((e2) => {
    "fill" !== e2.type && (e2.size = l2);
  });
  else if (j(t)) t.size = l2;
  else if (k(t)) {
    const e2 = t.width, n = t.height;
    t.height = l2, t.width = l2 * (e2 / n);
  } else V2(t) ? t.width = l2 : x(t) && t.font && (t.font.size = l2);
  return t;
}
export {
  I2 as getRampStops,
  M as getReferenceSizeSymbol,
  b as realWorldMaxSize,
  h2 as realWorldMinSize
};
//# sourceMappingURL=sizeRampUtils-PD2QV3LR.js.map
